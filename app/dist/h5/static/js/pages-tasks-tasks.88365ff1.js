(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-tasks-tasks"],{"001f":function(t,s,a){"use strict";a.r(s);var i=a("99e4"),e=a("1a1a");for(var n in e)"default"!==n&&function(t){a.d(s,t,(function(){return e[t]}))}(n);var o,l=a("f0c5"),u=Object(l["a"])(e["default"],i["b"],i["c"],!1,null,"4c28cd9e",null,!1,i["a"],o);s["default"]=u.exports},"1a1a":function(t,s,a){"use strict";a.r(s);var i=a("ea4d"),e=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(s,t,(function(){return i[t]}))}(n);s["default"]=e.a},"99e4":function(t,s,a){"use strict";var i;a.d(s,"b",(function(){return e})),a.d(s,"c",(function(){return n})),a.d(s,"a",(function(){return i}));var e=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("v-uni-view",[a("div",{staticClass:"container has-pt-4 has-pb-4 has-pl-6 has-pr-6 is-flex has-items-center has-flex-wrap-mobile is-rounded"},[a("a",{staticClass:"is-flex has-items-center has-mr-6-tablet has-mr-auto-mobile has-size-2 has-text-current"},[a("i",{staticClass:"si-mug has-size-4 has-mr-2"}),a("strong",[t._v("Welcome")])]),a("div",{staticClass:"menu has-bg-dark is-hidden-tablet",attrs:{id:"navbar-toggler"}}),a("div",{staticClass:"is-flex-tablet has-justify-between has-w-full has-mt-4-mobile",attrs:{id:"navbar-menu"}},[a("div",{staticClass:"is-flex-tablet"},[a("v-uni-view",{staticClass:"navlink has-mb-2-mobile has-mr-2-tablet ",on:{click:function(s){arguments[0]=s=t.$handleEvent(s),t.gotoPage(1)}}},[t._v("Tasks")]),a("a",{staticClass:"navlink has-mb-2-mobile ",on:{click:function(s){arguments[0]=s=t.$handleEvent(s),t.gotoPage(2)}}},[t._v("Applied")])],1),a("div",{staticClass:"has-ml-auto-tablet has-mt-4-mobile",on:{click:function(s){arguments[0]=s=t.$handleEvent(s),t.logout()}}},[a("a",{staticClass:"button is-secondary"},[t._v("Logout")])])])]),a("div",{staticClass:"container has-pt-16 has-pb-24"},[a("h2",[t._v("Manage your applied task")]),a("hr"),a("div",{staticClass:"columns has-mb-24"},t._l(t.dataList,(function(s,i){return a("div",{key:i,staticClass:"column is-one-third is-full-mobile"},[a("div",{staticClass:"card is-shadowed"},[a("h4",{staticClass:"is-capitalized"},[t._v(t._s(s.title))]),a("p",{staticStyle:{"min-height":"4rem"}},[t._v(t._s(s.detail))]),a("div",{staticClass:"is-flex has-direction-column-mobile",staticStyle:{gap:"0.5rem"}},[a("div",{staticClass:"has-w-full",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.stopTask(s)}}},[a("a",{staticClass:"button is-not-underlined is-full",attrs:{target:"_blank"}},[a("strong",[t._v("Remove")])])]),a("div",{staticClass:"has-w-full",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.doneTask(s)}}},[a("a",{staticClass:"button is-full has-bg-white has-text-primary has-bg-highlight-hover",attrs:{target:"_blank"}},[a("strong",[t._v(t._s(2==s.state?"Done":"In processing"))])])])])])])})),0)])])},n=[]},ea4d:function(t,s,a){"use strict";a("e25e"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var i={data:function(){return{dataList:{},userinfo:{}}},onLoad:function(){var t=uni.getStorageSync("userinfo");this.userinfo=JSON.parse(t),this.updateUI()},methods:{logout:function(t){uni.navigateTo({url:"/pages/login/login"})},gotoPage:function(t){console.log(t);var s="/pages/index/index";2==t&&(s="/pages/tasks/tasks"),uni.navigateTo({url:s})},updateUI:function(){var t=this;this.$http.post(this.$url+"/task/applyTaskList",{user_id:this.userinfo._id}).then((function(s){t.dataList=s.data,console.log(s)}))},stopTask:function(t){var s=this,a=t._id;this.$http.post(this.$url+"/tasks/declineTask",{taskid:a}).then((function(t){uni.showToast({icon:"success",title:"successfully"}),s.updateUI()}))},doneTask:function(t){var s=this,a=parseInt(t.state);a=1==a?2:1;var i=t._id;this.$http.post(this.$url+"/tasks/doneTask",{state:a,taskid:i}).then((function(t){uni.showToast({icon:"success",title:"successfully"}),s.updateUI()}))}}};s.default=i}}]);